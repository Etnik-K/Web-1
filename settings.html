<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings</title>
    <link rel="stylesheet" href="css/settings.css">
    <link rel="shortcut icon" type="image" href="/Meso/images/logo.png">
    

    
</head>
<body>
    <nav id="phone-nav">
        <div class="navbar">
          <div class="container nav-container">
              <input class="checkbox" type="checkbox" name="" id="" />
              <div class="hamburger-lines">
                <span class="line line1"></span>
                <span class="line line2"></span>
                <span class="line line3"></span>
              </div>  
            <div class="logo">
             <a href="home.html"><img src="./images/logo.png" alt=""  ></a>
            </div>
            <div class="menu-items">
              <li><a href="login.html">Log out</a></li>
              <li><a href="about.html" target="_blank">About</a></li>
              <li><a target="_blank" href="search.html">Search</a></li>

            
            </div>
          </div>
        </div>
      </nav>
    <header>
        <a href="home.html" id="logo"><img src="./images/logo.png" alt=""></a>  
            <nav>
                <ul class="nav_links">
                     <li><div class="boxContainer">
                        <table class="elementsContainer">
                         <tr>
                             <td>
                                 <input type="text" name="" class="search" placeholder="Search course...">
                             </td>
                             <td>
                              <a href="#"><img src="./images/loupe 1.png" alt="" class="material-icons"></a>
                             </td>
                         </tr>
                        </table>
                    </div></li>
                    <li><a class="nav-link" href="login.html">Log out</a></li>
                    <li><a href="about.html" target="_blank" class="nav-link">About</a></li>
          
                </ul>
            </nav>
        </header>
        <div id="container">
           <div><h1 id="title">Basics</h1>
            <a href=""><img src="./images/pfp-container.png" alt="" id="pfp"></a>
            </div>
            <div class="basic-info" id="div-usr">
                <p class="basic-info-text" id="username1">Username</p>
                <div class="basic-info-images">
                    <button onclick="transformToTextboxUsr()" style="border: none;"  ><img src="./images/edit.png" alt="" ></button>
                
            </div>
            </div>
            
            <div class="basic-info" id="div-fn"> 
                <p class="basic-info-text" id="fullname1">Full Name</p>
                <div class="basic-info-images">
               <button onclick="transformToTextboxFN()" style="border: none;"><img src="./images/edit.png" alt="" ></button>
            </div>
        
        </div>
        <div class="basic-info" id="div-email">
            <p class="basic-info-text" id="email1">Email</p>
            <div class="basic-info-images">
                <button onclick="transformToTextboxEmail()" style="border: none;"><img src="./images/edit.png" alt="" ></button>
        </div>
      
</div>
<div class="basic-info" id="div-tel">
    <p class="basic-info-text" id="tel1">Phone Number</p>
    <div class="basic-info-images">
        <button onclick="transformToTextboxTel()" style="border: none;"><img src="./images/edit.png" alt="" ></button>
    </div>
</div>
<div class="basic-info" id="div-bd">
    <p class="basic-info-text" id="bd1">Birthdate</p>
    <div class="basic-info-images">
        <button onclick="transformToTextboxBD()" style="border: none;"><img src="./images/edit.png" alt="" ></button>
</div>
</div> 
<button id="save" >Save Changes</button>
<img src="./images/Line.png" alt="" id="seperation">
</div>
<div id="container-2">
    <h1 id="title">Password</h1>
    <form id="form-password" action="">
        <input type="password" name="" id="old-password" class="password" placeholder="Old Password">
        <input type="password" name="" id="new-password" class="password" placeholder="New Password">
        <input type="password" name="" id="confirm-password" class="password" placeholder="Confirm Password">    
    </form>
    <button id="confirm">Confirm</button>
    <span id="password-warning"></span>
    <img src="./images/Line.png" alt="" id="seperation">
</div>
<div id="container-3">
    <h1 id="delete-txt">Delete Account</h1>
    <button id="delete" onclick="DeleteAccount()">Delete</button>
</div>
<footer id="footer">
    <div id="footer-container">
        <div id="books">
            <h1 id="books-title">Books</h1>
            <a href=""><p class="books-paragraph">Elon Musk</p></a>
            <a href=""><p class="books-paragraph">Java</p></a>
            <a href=""><p class="books-paragraph">Artificial Intelligence</p></a>
        </div>
        <div id="explore">
            <h1 id="explore-title">Explore</h1>
           <a href="about.html" target="_blank"><p class="explore-paragraph">About</p></a>
           <a href=""><p class="explore-paragraph">Overview</p></a>
           <a href="sign-up.html"><p class="explore-paragraph">Join Us</p></a>
        </div>
        <div id="gallery">
            <h1 id="gallery-title">Gallery</h1>
            <div id="first-pair">
            <img src="./images/footer-image-1.png" alt="" class="gallery-img">
            <img src="./images/footer-image-2.png" alt="" class="gallery-img">
            </div>
            <div id="second-pair">
            <img src="./images/footer-image-3.png" alt="" class="gallery-img">
            <img src="./images/footer-image-4.png" alt="" class="gallery-img">
            </div>
        </div>
        <div id="about">
            <h1 id="about-title">About</h1>
            <p class="about-paragraph">An educational platform that <br>
                encourages learning through <br>
                 interactivity and fun. </p>
                  <div id="footer-buttons">
                    <a href="contact.html"> <button class="footer-button" id="contact-button">Contact</button></a>
                <button class="footer-button" id="help-button">Help</button>
                  </div>       
        </div>
    </div>
    </footer>
    <script>
        var originalState = document.getElementById("container").innerHTML;
        var inputElementUsr;
        var usrTransformed = false;
        var inputElementFN;
        var fnTransformed = false;
        var inputElementEmail;
        var emailTransformed = false;
        var inputElementTel;
        var telTransformed = false;
        var inputElementBD;
        var bdTransformed = false;
        
        // Load saved data from localStorage when the page loads
        window.onload = function () {
           
            loadUserData();
        };
        
        function transformToTextboxUsr() {
            var myDiv = document.getElementById("div-usr");
            document.getElementById("username1").textContent = "";
            inputElementUsr = document.createElement("input");
            inputElementUsr.type = "text";
            inputElementUsr.value = "";
            inputElementUsr.classList.add("basic-info");
            myDiv.setAttribute("data-original-content", myDiv.innerHTML);
            myDiv.replaceWith(inputElementUsr);
            inputElementUsr.focus();
            usrTransformed = true;
        
            // Attach event listener for Save Changes button
            document.getElementById("save").addEventListener("click", saveChanges);
        }
        
        function transformToTextboxFN() {
            var myDiv = document.getElementById("div-fn");
            document.getElementById("fullname1").textContent = "";
            inputElementFN = document.createElement("input");
            inputElementFN.type = "text";
            inputElementFN.value = "";
            inputElementFN.classList.add("basic-info");
            myDiv.setAttribute("data-original-content", myDiv.innerHTML);
            myDiv.replaceWith(inputElementFN);
            inputElementFN.focus();
            fnTransformed = true;
        
            // Attach event listener for Save Changes button
            document.getElementById("save").addEventListener("click", saveChanges);
        }
        
        function transformToTextboxEmail() {
            var myDiv = document.getElementById("div-email");
            document.getElementById("email1").textContent = "";
            inputElementEmail = document.createElement("input");
            inputElementEmail.type = "email";
            inputElementEmail.value = "";
            inputElementEmail.classList.add("basic-info");
            myDiv.setAttribute("data-original-content", myDiv.innerHTML);
            myDiv.replaceWith(inputElementEmail);
            inputElementEmail.focus();
            emailTransformed = true;
        
            // Attach event listener for Save Changes button
            document.getElementById("save").addEventListener("click", saveChanges);
        }
        
        function transformToTextboxTel() {
            var myDiv = document.getElementById("div-tel");
            document.getElementById("tel1").textContent = "";
            inputElementTel = document.createElement("input");
            inputElementTel.type = "tel";
            inputElementTel.value = "";
            inputElementTel.classList.add("basic-info");
            myDiv.setAttribute("data-original-content", myDiv.innerHTML);
            myDiv.replaceWith(inputElementTel);
            inputElementTel.focus();
            telTransformed = true;
        
            // Attach event listener for Save Changes button
            document.getElementById("save").addEventListener("click", saveChanges);
        }
        
        function transformToTextboxBD() {
            var myDiv = document.getElementById("div-bd");
            document.getElementById("bd1").textContent = "";
            inputElementBD = document.createElement("input");
            inputElementBD.type = "date";
            inputElementBD.value = "";
            inputElementBD.classList.add("basic-info");
            myDiv.setAttribute("data-original-content", myDiv.innerHTML);
            myDiv.replaceWith(inputElementBD);
            inputElementBD.focus();
            bdTransformed = true;
        
            // Attach event listener for Save Changes button
            document.getElementById("save").addEventListener("click", saveChanges);
        }
        
        function saveChanges() {
            // Retrieve the values from the input elements
            var inputValueUsr = inputElementUsr ? inputElementUsr.value : "";
            var inputValueFN = inputElementFN ? inputElementFN.value : "";
            var inputValueEmail = inputElementEmail ? inputElementEmail.value : "";
            var inputValueTel = inputElementTel ? inputElementTel.value : "";
            var inputValueBD = inputElementBD ? inputElementBD.value : "";
        
            // Save data to localStorage
            saveUserData(inputValueUsr, inputValueFN, inputValueEmail, inputValueTel, inputValueBD);
        
            // Reset the entire container to its original state
            document.getElementById("container").innerHTML = originalState;
        
            // Update the value of the paragraph if the input is not empty
            if (inputValueUsr.trim() !== "") {
                document.getElementById("username1").textContent = inputValueUsr;
            }
            if (inputValueFN.trim() !== "") {
                document.getElementById("fullname1").textContent = inputValueFN;
            }
            if (inputValueEmail.trim() !== "") {
                document.getElementById("email1").textContent = inputValueEmail;
            }
            if (inputValueTel.trim() !== "") {
                document.getElementById("tel1").textContent = inputValueTel;
            }
            if (inputValueBD.trim() !== "") {
                document.getElementById("bd1").textContent = inputValueBD;
            }
        }
        
        // Save data to localStorage
        function saveUserData(username, fullname, email, phonenumber, birthdate) {
            localStorage.setItem("savedUsername", username);
            localStorage.setItem("savedFullname", fullname);
            localStorage.setItem("savedEmail", email);
            localStorage.setItem("savedPhonenumber", phonenumber);
            localStorage.setItem("savedBirthdate", birthdate);
        }
        
        // Load data from localStorage and update the UI
        function loadUserData() {
            document.getElementById("username1").textContent = localStorage.getItem("savedUsername") || "Username";
            document.getElementById("fullname1").textContent = localStorage.getItem("savedFullname") || "Full Name";
            document.getElementById("email1").textContent = localStorage.getItem("savedEmail") || "Email";
            document.getElementById("tel1").textContent = localStorage.getItem("savedPhonenumber") || "Phone Number";
            document.getElementById("bd1").textContent = localStorage.getItem("savedBirthdate") || "Birthdate";
        }
    document.getElementById("confirm").addEventListener("click", function () {
        // Get the old, new, and confirm password elements
        var oldPasswordElement = document.getElementById("old-password");
        var newPasswordElement = document.getElementById("new-password");
        var confirmPasswordElement = document.getElementById("confirm-password");

        // Get the values entered by the user
        var oldPassword = oldPasswordElement.value;
        var newPassword = newPasswordElement.value;
        var confirmPassword = confirmPasswordElement.value;

        // Check if the new password and confirm password match
        if (newPassword !== confirmPassword) {
            // Display a warning if passwords don't match
            document.getElementById("password-warning").textContent = "Passwords do not match!";
            document.getElementById("password-warning").style.color = "red";
        } else {
            // Clear the warning message
            document.getElementById("password-warning").textContent = "";

            // Update the old password with the new password
            oldPasswordElement.value = newPassword;
            // You can perform additional actions or submit the form here

            // Optionally, reset the new and confirm password fields
            newPasswordElement.value = "";
            confirmPasswordElement.value = "";
            oldPasswordElement.value="";
        }
    });
    function DeleteAccount() {
        // Ask the user for confirmation before deleting the account
        var confirmDelete = confirm("Are you sure you want to delete your account? This action cannot be undone.");

        // If the user confirms, proceed with the deletion
        if (confirmDelete) {
            // Save the original state to localStorage
            localStorage.setItem("originalState", originalState);

            // Reset the entire container to its original state
            document.getElementById("container").innerHTML = originalState;

            // Clear the saved user data in localStorage
            localStorage.setItem("savedUsername", "Username");
            localStorage.setItem("savedFullname", "Full Name");
            localStorage.setItem("savedEmail", "Email");
            localStorage.setItem("savedPhonenumber", "Phone Number");
            localStorage.setItem("savedBirthdate", "Birthdate");
        }
    }
</script>

</html>
